<html>
     <head>
        <style type="text/css">
                #picker { width: 200px; height: 200px }
                #slide { width: 30px; height: 200px }
                button{position: relative; left: 80px; top: 19px;}
        </style>
        <link rel="stylesheet" href="css/colorpicker.css"/>
        <link rel="stylesheet" href="css/paper-ripple.min.css"/>
     </head>
     <body>
            <div id="color-picker" class="cp-default">
            <div class="picker-wrapper">
                <div id="picker" class="picker"></div>
                <div id="picker-indicator" class="picker-indicator"></div>
            </div>
            <div class="slide-wrapper">
                <div id="slide" class="slide"></div>
                <div id="slide-indicator" class="slide-indicator"></div>
            </div>
        </div>
          <button class="paper-button" onclick="setValue()"/>Set color</button>
          <script type="text/javascript" 
                src="js/colorpicker.js"></script>
          <script src="js/PaperRipple.min.js"></script>
          <script src="js/rippleUtil.js"></script>
          <script type="text/javascript">
                var color = '';
                var ipc = require("electron").ipcRenderer;

            ColorPicker.fixIndicators(
                    document.getElementById('slide-indicator'),
                    document.getElementById('picker-indicator'));

            ColorPicker(
                    document.getElementById('slide'), 
                    document.getElementById('picker'), 

                    function(hex, hsv, rgb, pickerCoordinate, sliderCoordinate) {

                        ColorPicker.positionIndicators(
                            document.getElementById('slide-indicator'),
                            document.getElementById('picker-indicator'),
                            sliderCoordinate, pickerCoordinate
                        );
                        color = hex;
                        document.getElementsByTagName("button")[0].style.color = hex;
                });
                   function setValue(){
                     var fse = require("fs-extra");
                     var data = {
                       titleColor: color
                     };
                     fse.writeFileSync(__dirname + "/settings.json", JSON.stringify(data));
                     ipc.send("settings", color);
                   }
           </script>
     </body>
</html>
