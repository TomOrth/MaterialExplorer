<!DOCTYPE html>
<html>

<head>
    <!-- TODO: Replace this title with dir name or at least "Files" or something relevant. -->
    <title>Material Explorer</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- TODO: Cut pills. Not really necessary tbh. -->
    <link rel="stylesheet" href="css/pills.min.css">
</head>

<body>
    <header id="bar">
        <span id="title"></span>
        <img id="up" src="img/up.svg">
    </header>
    <!-- "Row," while technically correct, is not the most apt description for this div.
            TODO: Change this to something better. -->
    <div class="row">
        <div class="column one-third">
            <ul id="bookmarks">
                <!-- TODO: Replace this with file information viewer or something of the like. Bookmarks shouldn't be this prevalent IMO. -->
            </ul>
        </div>
        <div class="column two-thirds">
            <table>
                <thead>
                    <tr class="titles">
                        <td></td>
                        <td>File/Folder name</td>
                        <td>File size</td>
                        <td>Date Modified</td>
                    </tr>
                </thead>
                <tbody id="files">
                </tbody>
            </table>
        </div>
    </div>
    <div id="settings" style="display: none;">
        <div><input type="checkbox" id="hidden"> Show hidden files</div>
        <div><button onclick="change()">Change color</button></div>
    </div>
    <img id="settings-icon" src="img/settings.svg">
    <script>
      //setting up the header color
      require("fs-extra").readFile(__dirname + "/settings.json", (err, data) => {
        console.log(err);
        var colorCode;
        if(err) {
          colorCode = "#FF3D00";
        }
        else {
          var settings = JSON.parse(data);
          colorCode = settings.titleColor;
        }
      console.log(colorCode);
      document.getElementById("bar").style.backgroundColor = colorCode;
      console.log("color is: " +  document.getElementsByTagName('header')[0].backgroundColor);
});

      var ipc = require("electron").ipcRenderer;
      ipc.on("titleColor", (event, arg) => {
        console.log("arg");
        document.getElementById("bar").style.backgroundColor = arg;
      });
    </script>
    <script src="script.js"></script>
</body>

</html>
